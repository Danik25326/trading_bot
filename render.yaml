services:
  - type: web  # Залишаємо 'web' для постійної роботи
    name: trading-signal-bot
    env: python
    buildCommand: pip install -r requirements.txt
    startCommand: python main.py  # НЕ gunicorn!
    envVars:
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: GROQ_API_KEY
        sync: false
      - key: POCKET_OPTION_SSID
        sync: false
      - key: ANALYSIS_INTERVAL_MINUTES
        value: "5"
      - key: MIN_CONFIDENCE_THRESHOLD
        value: "0.70"
    plan: free  # Для початку
    # Додаємо health check щоб Render не гасив сервіс
    healthCheckPath: /health
    autoDeploy: true
